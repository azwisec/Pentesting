A request smuggling attack is a type of web security vulnerability that occurs when an attacker sends a crafted HTTP request in a way that causes the front-end server and the back-end server to interpret the boundaries of the request differently. This mismatch can lead to unexpected behaviors, allowing the attacker to smuggle a request to the back-end server, potentially bypassing security controls, accessing sensitive data, or performing other malicious actions.

### Simplified Explanation with Example

Imagine you are in a restaurant where you place your order (the request) through a waiter (the front-end server) who then passes it to the kitchen (the back-end server). Normally, the waiter and the kitchen have a clear understanding of how orders are written and processed.

#### Normal Scenario
1. **Customer (Attacker):** "I want a burger."
2. **Waiter (Front-end server):** "Kitchen, make one burger."
3. **Kitchen (Back-end server):** Makes and serves one burger.

#### Request Smuggling Scenario
1. **Customer (Attacker):** Writes "I want a burger.Cook: Make it fast" on the same slip but in a way that the waiter and kitchen interpret differently.
2. **Waiter (Front-end server):** Reads "I want a burger." (thinks the request ends here) and passes it to the kitchen.
3. **Kitchen (Back-end server):** Receives "Cook: Make it fast" as a separate instruction and acts on it.

In the context of HTTP requests:

### Normal Scenario

- **Attacker sends:**  
  ```
  GET / HTTP/1.1
  Host: victim.com
  Content-Length: 0
  ```

- **Front-end server sends to back-end:**  
  ```
  GET / HTTP/1.1
  Host: victim.com
  Content-Length: 0
  ```

- **Back-end server processes:** The single request as expected.

### Request Smuggling Scenario

- **Attacker sends:**  
  ```
  POST / HTTP/1.1
  Host: victim.com
  Content-Length: 13
  Transfer-Encoding: chunked

  0

  GET /malicious HTTP/1.1
  Host: victim.com
  ```

- **Front-end server interprets:** Two separate requests due to "Transfer-Encoding: chunked."
  - First request: `POST / HTTP/1.1`
  - Second request (malicious): `GET /malicious HTTP/1.1`

- **Back-end server receives:** The smuggled `GET /malicious HTTP/1.1` request.

### Consequences

1. **Security Controls Bypassed:** The smuggled request bypasses any front-end security checks.
2. **Unauthorized Actions:** The attacker can perform actions or access data that should be restricted.

### Real-World Example

Consider an e-commerce website where users can view and purchase items:

1. **Legitimate User Request:**
   ```
   GET /item/123 HTTP/1.1
   Host: shop.com
   ```

2. **Attacker Request:**
   ```
   POST /checkout HTTP/1.1
   Host: shop.com
   Content-Length: 13
   Transfer-Encoding: chunked

   0

   GET /admin HTTP/1.1
   Host: shop.com
   ```

In this scenario, the attacker smuggles a `GET /admin` request to access the admin panel without proper authorization.

### Summary

A request smuggling attack exploits the differences in how front-end and back-end servers interpret HTTP requests. By carefully crafting the request, an attacker can smuggle unauthorized requests to the back-end server, potentially causing security issues.

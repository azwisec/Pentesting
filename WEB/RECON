Reconnaissance.(Recon)

"Military observation of a region to locate an enemy or ascertain strategic features".
The same thing applies to hacking: Observation of our target's infrastructure, assets, 
applications and their features.

Asset Discovery:
-Domain names
-Subdomains
IP addresses
Scanning for open ports

Content Discovery:
-Files or folders via bruteforce
-Hidden endpoints or functionality

Recon is important because it allows you to exxtent your attack surfaces especially when it 
comes down to bug bounties for organization like Google, Facebook, Verizon Media, Snapchat 
or Apple where they include all of their digital assets in their scope.

Purpose:
-A bigger attack surface
-Dev/Staging/QA environments
-Sensitive Information (Api Documentation, Logs, Backups etc)


Recon - Asset Discovery
Asset discovery consists of finding all the digital online assets owned by a particular company.
For example: Google owns google.com, YouTube.com, nest.com (aquisition) and a ton of other assets 
thats may be a part of their bug bounty program. Yu can usually find these through searching on Google,
Crunchbase, Or Wikipedia.

Each of these assets have domain and each domain may have its own subdomains. For eg. google has mail.google.com, 
drive.google.com, store.google.com and more.

You can identify these domains passively through google and other sources.

site:uber.com -www

Service like crt.sh, censys.io and shodan allow you to search through their data and look for certificates for a particular organization.
If a subdomain doesn't havea SSL certificate, then we may have to rely on Google or rely on tools that enumerate subdomains via Brute-force.

Certificate Transperency:
-censys.io
-crt.sh
-shodan.io
-amass
-netcraft.com
- https://developers.facebook.com/tools/ct
- https://transparencyreport.google.com/https/certificates?hl=en
- https://pentest-tools.com/information-gathering/find-subdomains-of-domain
- https://chaos.projectdiscovery.io/#/
- https://www.nmmapper.com/ 

Brute-Force
-Use a dictionary file to enumerate avaliable subdomains with tools like
-massdns
-amass


Recon -  Content Discovery.
Content discovery helps us to find additional/sensitive folders, endpoints(files), documentation, or features that may not directly accessible on the site.
This also includes finding adminsitration panels, files with sensitive debug/diagnosis information, api documentation, or hidden features available to for 
users with higher privileges. This can be done by crawling the site using Burp Suite or by using other tools.

Port scanning is another great way to extent your attack surface. Nmap or masscan allow you to scan for other open ports which may be running a web application.

Asset Discovery.
Brute forcing and crawling the site may not always reveal everything because you may not know they exit, however, if you already have access to the application, you may be able to
search through the javascript files to discover additional endpoints that may not be available to your user.

What is a Subdomain Finder?
Our subdomain finder is a tool which performs an advanced scan over the specified domain and tries to find as many subdomains as possible. While scanning it also checks whether the domain is tunneling through CloudFlare. 
We strive to give you the most accurate results and might include some historical data since that might contain useful information.
https://subdomainfinder.c99.nl/

Brute-Force
-dirserach
-ffuf https://danielmiessler.com/study/ffuf/
-wfuzz https://securitybytes.io/wfuzz-using-the-web-brute-forcer-1bf8890db2f
-gobuster https://infinitelogins.com/2020/03/20/how-to-route-tools-gobuster-through-a-burpsuite-proxy/

Javascript files
-Look for routes and understand how the endpoints work and fuzz them mannually
-JSParser
-LinkFinder


Google Dorks https://blog.glugmvit.com/Google-Dorks-for-Recon/
*Nmap indicates that Port 80,443,and 8433 are open.
*Directory brute force shows /admin/ is returning a 403 responce code.
*You brute force for more files/ directories with /admin/
*/admin/users.php returns 200 indicating that you have unauthenticated access 
*Repeat on other domains, subdomains, ports, or folders.

https://chaos.projectdiscovery.io/#/
https://developers.facebook.com/tools/ct/search/
https://transparencyreport.google.com/https/certificates?hl=en


Content Discovery:

https://github.com/Sh1Yo/x8

https://github.com/hakluke/hakrawler

https://github.com/PortSwigger/param-miner


Recon:
-Robots.txt
-404 Error Pages
-security.txt --security information --> /.well-known/.security.txt

-Access Default Virtual host:
Hostname with the IP address or to a random host header in request.
cmd:#curl -H "Host:..."
step1:dig target.com -->to see the target ip address
step2:curl https://that-ip-address and confirm it wheather same ip in host:header
step3:curl http://target.com -v -H "Host: attack.com"

-Access the default virtual host ("Vhost") over TLS:
change http and https
step1: dig target.com
step2: curl https://that ip address
  it will fail
step3:curl https://that ip address --insecure
  we get access to that
